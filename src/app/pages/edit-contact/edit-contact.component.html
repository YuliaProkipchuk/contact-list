<h1 class="text-center py-3 text-[2.5rem]">Edit Contact</h1>
<form [formGroup]="editContactForm" (ngSubmit)="editContact()" class="w-3/4 lg:w-1/2 2xl:w-[30%] mx-auto py-5">
    <div class="flex gap-5 items-center">
        <div class="w-[100px] h-[100px] rounded-full cursor-pointer" (click)="focusInput(imgInput)">
            @if(url){
            <img src="{{url}}" alt="{{editContactForm.controls['firstName'].value}}-image"
                class="w-[100px] h-[100px] rounded-full object-center object-cover">
            }@else {
            <div class="w-[100px] h-[100px] rounded-full bg-gray-300 flex items-center justify-center"><div class="text-[4rem] h-fit text-gray-400">+</div></div>
            }
            <input type="file" class="hidden" #imgInput (change)="onFileSelected(imgInput.files)">
        </div>
        <div class="w-[calc(100%-120px)]">
            <div class="flex flex-col">
                <label for="firstName">Name</label>
                <input type="text" id="firstName" formControlName="firstName" placeholder="John"
                    class="rounded border border-gray-400 py-1 px-3">
            </div>
            @if (editContactForm.controls['firstName'].errors?.['required'] &&
            editContactForm.controls['firstName'].touched)
            {
            <span class="text-red-500 text-sm">Name is required</span>
            }
            <div class="flex flex-col my-3">
                <label for="lastName">Surname</label>
                <input type="text" id="lastName" formControlName="lastName" placeholder="Dohn"
                    class="rounded border border-gray-400 py-1 px-3">
            </div>
            @if (editContactForm.controls['lastName'].errors?.['required'] &&
            editContactForm.controls['lastName'].touched) {
            <span class="text-red-500 text-sm">Surname is required</span>
            }
        </div>

    </div>

    <div class="flex flex-col my-3">
        <label for="email">Email</label>
        <input type="email" id="email" formControlName="email" placeholder="example@gmail.com"
            class="rounded border border-gray-400 py-1 px-3">
    </div>
    @if(editContactForm.controls['email'].touched){
    @if(editContactForm.controls['email'].errors?.['required']){
    <span class="text-red-500 text-sm">Email is required</span>

    }
    @if(editContactForm.controls['email'].errors?.['email']){
    <span class="text-red-500 text-sm">Email is invalid</span>

    }
    }
    <div class="flex flex-col my-3">
        <label for="phone">Phone</label>
        <input type="text" id="phone" formControlName="phone" placeholder="+000000000000"
            class="rounded border border-gray-400 py-1 px-3">
    </div>
    @if(editContactForm.controls['phone'].touched){
    @if(editContactForm.controls['phone'].errors?.['required']){
    <span class="text-red-500 text-sm">Phone is required</span>

    }
    @if(editContactForm.controls['phone'].errors?.['pattern']){
    <span class="text-red-500 text-sm">Phone is invalid</span>

    }
    }
    <div class="flex flex-col sm:flex-row gap-3 my-3 ">
        <div class="flex flex-col w-full sm:w-1/2">
            <label for="company">Company</label>
            <input type="text" id="company" formControlName="company" placeholder="Company"
                class="rounded border border-gray-400 py-1 px-3">
        </div>
        <div class="flex flex-col w-full sm:w-1/2">
            <label for="position">Position</label>
            <input type="text" id="position" formControlName="position" placeholder="Manager"
                class="rounded border border-gray-400 py-1 px-3">
        </div>
    </div>
    <div class="flex flex-col sm:flex-row gap-3 my-3">
        <div class="flex flex-col w-full sm:w-1/2">
            <label for="city">City</label>
            <input type="text" id="city" formControlName="city" placeholder="Lviv"
                class="rounded border border-gray-400 py-1 px-3">
        </div>
        <div class="flex flex-col w-full sm:w-1/2">
            <label for="street">Address</label>
            <input type="text" id="street" formControlName="street" placeholder="Symona Petlyury Street,2"
                class="rounded border border-gray-400 py-1 px-3">
        </div>
    </div>
    <div class="flex flex-col sm:flex-row gap-3 my-3">
        <div class="flex flex-col w-full sm:w-1/2">
            <label for="birthday">Birthday Date</label>
            <input type="date" id="birthday" formControlName="birthday"
                class="rounded border border-gray-400 py-1 px-3">
        </div>
        <div class="flex flex-col w-full sm:w-1/2">
            <label for="category">Group</label>
            <select formControlName="category" id="category" class="rounded border border-gray-400 py-1 px-3" >
                <option value="Friends"  [selected]="userInfo?.category==='Friends'">Friends</option>
                <option value="Work" [selected]="userInfo?.category==='Work'">Work</option>
                <option value="Family" [selected]="userInfo?.category==='Family'">Family</option>
            </select>
        </div>
    </div>

    <button
        class="py-2 px-3 rounded font-semibold border border-gray-400 w-full bg-blue-500 cursor-pointer hover:bg-blue-300"
        [disabled]="editContactForm.invalid">Save</button>
</form>
